{"mappings":"YAEA,IAAMA,EAAM,+BAGNC,EAAa,CACjBC,OAAQ,MACRC,QAAS,CACP,YAAa,0ECFV,IAAMC,EAAO,CAClBC,SAAUC,SAASC,cAAc,UACjCC,WAAYF,SAASC,cAAc,WACnCE,cAAeH,SAASC,cAAc,uBACtCG,YAAa,GACbC,KAAML,SAASC,cAAc,cDItBK,MAAM,GAAOC,OAAJb,EAAI,WAAUC,GAAYa,MACxC,SAAAC,G,OAAYA,EAASC,M,ICATF,MACd,SAAAG,GACEb,EAAKM,YAAcO,EAarBb,EAAKM,YAAYQ,SAAQ,SAAAC,GACvB,IAAMC,EAAWd,SAASe,cAAc,UACxCD,EAASE,MAAQH,EAAQI,GACzBH,EAASI,YAAcL,EAAQM,KAC/BrB,EAAKK,cAAciB,YAAYN,E,IAGjChB,EAAKK,cAAckB,UAAUC,OAAO,c,IAlBjCC,OACD,SAAAC,GACEC,QAAQD,MAAMA,GACd1B,EAAKC,SAASsB,UAAUK,OAAO,c,IAmBrC5B,EAAKK,cAAcwB,iBAAiB,UAGpC,SAAyBC,GACvB9B,EAAKK,cAAckB,UAAUQ,IAAI,eACjC/B,EAAKI,WAAWmB,UAAUC,OAAO,gBD3BLQ,EC8BdF,EAAGG,OAAOf,MD7BjBV,MAAM,GAASC,OAANb,GAAgBa,OAlBnB,6BAkB2BA,OAARuB,IAAWtB,MACzC,SAAAC,G,OAAYA,EAASC,M,KC4BQF,MAC7B,SAAAG,GACAb,EAAKI,WAAWmB,UAAUQ,IAAI,eAQlC,SAAkBG,EAAQJ,GACxB9B,EAAKK,cAAckB,UAAUC,OAAO,eACpC,IAAMW,EAAMnC,EAAKM,YAAY8B,MAAK,SAAAC,G,OAAWA,EAAQlB,KAAOW,C,IAC5D9B,EAAKO,KAAK+B,UAAY,sBAEA7B,OADTyB,EAAO,GAAGK,IAAI,6BAIjB9B,OAHY0B,EAAId,KAAK,qDAItBZ,OADC0B,EAAId,KAAK,oBAEgCZ,OAD1C0B,EAAIK,YAAY,6DAEV/B,OADoC0B,EAAIM,YAAY,yBAClChC,OAAlB0B,EAAIO,cAAc,4D,CAlB/BC,CAAS9B,EAAKiB,EAAGG,OAAOf,M,IACrBO,OACH,SAAAC,GAAUC,QAAQiB,IAAIlB,GACtB1B,EAAKC,SAASsB,UAAUC,OAAO,c,IDpC5B,IAAuBQ,C","sources":["src/javaScript/cat-api.js","src/index.js"],"sourcesContent":["import { refs } from \"..\";\n\nconst URL = 'https://api.thecatapi.com/v1';\nconst IMG_URL ='/images/search?breed_ids='\n\nconst parameters = {\n  method: \"GET\",\n  headers: {\n    \"x-api-key\": \"live_ZL3XhWtLx9PzffpMC34TtK4tTjDMFudnqqMsdgjRaXkrvfJiEqOSDyZliRvqukmf\"\n  },\n};\n// ======================================================\n\n\nexport function fetchBreeds() {\n  return fetch(`${URL}/breeds`, parameters).then(\n    response => response.json()\n  )\n};\n\nexport function fetchBreedImg(breedId) {\n  return fetch(`${URL}${IMG_URL}${breedId}`).then(\n    response => response.json() )\n};\n\n\n","// import apiKey form \"./javaScript/cat-api\";\n// import catApi from \"./javaScript/cat-api\"\n// export { refs, addSelectBreed }\nimport { fetchBreeds, fetchBreedImg } from \"./javaScript/cat-api.js\"\n// ======================================================================\n\nexport const refs = {\n  errorMsg: document.querySelector('.error'),\n  loadingMsg: document.querySelector('.loader'),\n  breedSelector: document.querySelector(\"select.breed-select\"),\n  breedsArray: [],\n  card: document.querySelector('.cat-info'),\n}\n\n// ======================================================================\nfunction populateBreedSelector() {\n  fetchBreeds().then(\n  data => {\n    refs.breedsArray = data;\n    addSelectBreed();\n  }).catch(\n    error => {\n      console.error(error);\n      refs.errorMsg.classList.toggle(\"isInvisible\");\n    }\n)\n}\n\npopulateBreedSelector()\n\nexport function addSelectBreed() {\n  refs.breedsArray.forEach(breedEl => {\n    const selectEl = document.createElement('option');\n    selectEl.value = breedEl.id;\n    selectEl.textContent = breedEl.name;\n    refs.breedSelector.appendChild(selectEl)\n  }\n  );\n  refs.breedSelector.classList.remove('isInvisible')\n};\n\n// =======================================================================\nrefs.breedSelector.addEventListener('change', onSelectedBreed)\n\n\nfunction onSelectedBreed(ev) {\n  refs.breedSelector.classList.add('isInvisible')\n  refs.loadingMsg.classList.remove(\"isInvisible\")\n  \n// ======================================================\n  fetchBreedImg(ev.target.value).then(\n    data => {\n    refs.loadingMsg.classList.add(\"isInvisible\")\n    drawCard(data,ev.target.value)\n    }).catch(\n    error => {console.log(error);\n    refs.errorMsg.classList.remove(\"isInvisible\");\n  });\n};\n\nfunction drawCard(imgUrl, ev) {\n  refs.breedSelector.classList.remove('isInvisible')\n  const cat = refs.breedsArray.find(element => element.id === ev);\n  refs.card.innerHTML = `<img\n        src=\"${imgUrl[0].url}\"\n        alt=\"beautiful${cat.name}cat\"\n        width=\"480px\"\n      />\n      <h2>${cat.name}</h2>\n      <p>${cat.description}</p>\n      <p><span class=\"decorated\">Temperament</span>${cat.temperament}</p>\n      <a href=\"${cat.wikipedia_url}\" target=\"_blank\" rel=\"noreferrer noopener\">Wikipedia</a>`\n};\n\n\n"],"names":["$dc1edef8ac663d09$var$URL","$dc1edef8ac663d09$var$parameters","method","headers","$b8f9b7833fa37166$export$21666b427502ea6d","errorMsg","document","querySelector","loadingMsg","breedSelector","breedsArray","card","fetch","concat","then","response","json","data","forEach","breedEl","selectEl","createElement","value","id","textContent","name","appendChild","classList","remove","catch","error","console","toggle","addEventListener","ev","add","breedId","target","imgUrl","cat","find","element","innerHTML","url","description","temperament","wikipedia_url","$b8f9b7833fa37166$var$drawCard","log"],"version":3,"file":"index.bcca7fce.js.map"}