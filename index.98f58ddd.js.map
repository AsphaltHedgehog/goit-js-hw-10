{"mappings":"AAEA,MAGMA,EAAa,CACjBC,OAAQ,MACRC,QAAS,CACP,YAAa,0ECFV,MAAMC,EAAO,CAClBC,SAAUC,SAASC,cAAc,UACjCC,WAAYF,SAASC,cAAc,WACnCE,cAAeH,SAASC,cAAc,uBACtCG,YAAa,GACbC,KAAML,SAASC,cAAc,cDItBK,MAAM,sCAAiBX,GAAYY,MACxCC,GAAYA,EAASC,SCATF,MACdG,IACEZ,EAAKM,YAAcM,EAarBZ,EAAKM,YAAYO,SAAQC,IACvB,MAAMC,EAAWb,SAASc,cAAc,UACxCD,EAASE,MAAQH,EAAQI,GACzBH,EAASI,YAAcL,EAAQM,KAC/BpB,EAAKK,cAAcgB,YAAYN,EAAS,IAG1Cf,EAAKK,cAAciB,UAAUC,OAAO,cAnBlB,IACfC,OACDC,IACEC,QAAQD,MAAMA,GACdzB,EAAKC,SAASqB,UAAUK,OAAO,cAAc,IAmBnD3B,EAAKK,cAAcuB,iBAAiB,UAGpC,SAAyBC,GACvB7B,EAAKK,cAAciB,UAAUQ,IAAI,eACjC9B,EAAKI,WAAWkB,UAAUC,OAAO,gBD3BLQ,EC8BdF,EAAGG,OAAOf,MD7BjBT,MAAM,wDAAmBuB,KAAWtB,MACzCC,GAAYA,EAASC,UC4BQF,MAC7BG,IACAZ,EAAKI,WAAWkB,UAAUQ,IAAI,eAQlC,SAAkBG,EAAQJ,GACxB7B,EAAKK,cAAciB,UAAUC,OAAO,eACpC,MAAMW,EAAMlC,EAAKM,YAAY6B,MAAKC,GAAWA,EAAQlB,KAAOW,IAC5D7B,EAAKO,KAAK8B,UAAY,sBACTJ,EAAO,GAAGK,+BACDJ,EAAId,wDAGhBc,EAAId,uBACLc,EAAIK,uEACsCL,EAAIM,mCACxCN,EAAIO,wE,CAlBjBC,CAAS9B,EAAKiB,EAAGG,OAAOf,MAAM,IAC3BO,OACHC,IAAUC,QAAQiB,IAAIlB,GACtBzB,EAAKC,SAASqB,UAAUC,OAAO,cAAc,IDpC1C,IAAuBQ,C","sources":["src/javaScript/cat-api.js","src/index.js"],"sourcesContent":["import { refs } from \"..\";\n\nconst URL = 'https://api.thecatapi.com/v1';\nconst IMG_URL ='/images/search?breed_ids='\n\nconst parameters = {\n  method: \"GET\",\n  headers: {\n    \"x-api-key\": \"live_ZL3XhWtLx9PzffpMC34TtK4tTjDMFudnqqMsdgjRaXkrvfJiEqOSDyZliRvqukmf\"\n  },\n};\n// ======================================================\n\n\nexport function fetchBreeds() {\n  return fetch(`${URL}/breeds`, parameters).then(\n    response => response.json()\n  )\n};\n\nexport function fetchBreedImg(breedId) {\n  return fetch(`${URL}${IMG_URL}${breedId}`).then(\n    response => response.json() )\n};\n\n\n","// import apiKey form \"./javaScript/cat-api\";\n// import catApi from \"./javaScript/cat-api\"\n// export { refs, addSelectBreed }\nimport { fetchBreeds, fetchBreedImg } from \"./javaScript/cat-api.js\"\n// ======================================================================\n\nexport const refs = {\n  errorMsg: document.querySelector('.error'),\n  loadingMsg: document.querySelector('.loader'),\n  breedSelector: document.querySelector(\"select.breed-select\"),\n  breedsArray: [],\n  card: document.querySelector('.cat-info'),\n}\n\n// ======================================================================\nfunction populateBreedSelector() {\n  fetchBreeds().then(\n  data => {\n    refs.breedsArray = data;\n    addSelectBreed();\n  }).catch(\n    error => {\n      console.error(error);\n      refs.errorMsg.classList.toggle(\"isInvisible\");\n    }\n)\n}\n\npopulateBreedSelector()\n\nexport function addSelectBreed() {\n  refs.breedsArray.forEach(breedEl => {\n    const selectEl = document.createElement('option');\n    selectEl.value = breedEl.id;\n    selectEl.textContent = breedEl.name;\n    refs.breedSelector.appendChild(selectEl)\n  }\n  );\n  refs.breedSelector.classList.remove('isInvisible')\n};\n\n// =======================================================================\nrefs.breedSelector.addEventListener('change', onSelectedBreed)\n\n\nfunction onSelectedBreed(ev) {\n  refs.breedSelector.classList.add('isInvisible')\n  refs.loadingMsg.classList.remove(\"isInvisible\")\n  \n// ======================================================\n  fetchBreedImg(ev.target.value).then(\n    data => {\n    refs.loadingMsg.classList.add(\"isInvisible\")\n    drawCard(data,ev.target.value)\n    }).catch(\n    error => {console.log(error);\n    refs.errorMsg.classList.remove(\"isInvisible\");\n  });\n};\n\nfunction drawCard(imgUrl, ev) {\n  refs.breedSelector.classList.remove('isInvisible')\n  const cat = refs.breedsArray.find(element => element.id === ev);\n  refs.card.innerHTML = `<img\n        src=\"${imgUrl[0].url}\"\n        alt=\"beautiful${cat.name}cat\"\n        width=\"480px\"\n      />\n      <h2>${cat.name}</h2>\n      <p>${cat.description}</p>\n      <p><span class=\"decorated\">Temperament</span>${cat.temperament}</p>\n      <a href=\"${cat.wikipedia_url}\" target=\"_blank\" rel=\"noreferrer noopener\">Wikipedia</a>`\n};\n\n\n"],"names":["$943e7c306630311f$var$parameters","method","headers","$1f0dc3b9307be026$export$21666b427502ea6d","errorMsg","document","querySelector","loadingMsg","breedSelector","breedsArray","card","fetch","then","response","json","data","forEach","breedEl","selectEl","createElement","value","id","textContent","name","appendChild","classList","remove","catch","error","console","toggle","addEventListener","ev","add","breedId","target","imgUrl","cat","find","element","innerHTML","url","description","temperament","wikipedia_url","$1f0dc3b9307be026$var$drawCard","log"],"version":3,"file":"index.98f58ddd.js.map"}